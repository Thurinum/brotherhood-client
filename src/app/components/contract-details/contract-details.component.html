<nav>
	<h2>{{model?.codename}}</h2>

	<span>
		<button *ngIf="!model?.isPublic" mat-mini-fab color="primary" matTooltip="Add target to contract" (click)="addTarget.emit()">
			<mat-icon>add</mat-icon>
		</button>
		<button *ngIf="!model?.isPublic" mat-mini-fab color="primary" [matMenuTriggerFor]="overflowMenu">
			<mat-icon>more_horiz</mat-icon>
		</button>
		<mat-menu #overflowMenu="matMenu" xPosition="before">
			<button mat-menu-item>
				<mat-icon>edit</mat-icon>Edit contract
			</button>
			<button mat-menu-item (click)="share.emit()">
				<mat-icon>supervisor_account</mat-icon>Request assassin as backup
			</button>
			<button mat-menu-item>
				<mat-icon>cancel</mat-icon>Cancel contract
			</button>
		</mat-menu>
	</span>
</nav>
<p>{{model?.briefing ?? "There is no description for this contract."}}</p>

<br />
<mat-divider></mat-divider>
<br />


<section>
	<owl-carousel-o class="carousel" *ngIf="model?.targets && model?.targets?.length! > 0; else noTarget">
		<ng-container *ngFor="let target of model?.targets">
			<ng-template carouselSlide>
				<app-contract-target-details class="carousel-item" matRipple
								     [title]="target.firstName"
								     [target]="target"
								     [allowEdit]="allowEdit"
								     (edit)="editTarget.emit(target)"
								     (setAsCover)="setContractCover(target)"></app-contract-target-details>
			</ng-template>
		</ng-container>
	</owl-carousel-o>
	<ng-template #noTarget>
		<p><em>There are no targets in this contract.</em></p>
	</ng-template>
</section>
